<div class="list-page">
  <div class="content">
    <div class="table">
      <div class="table-header">
        <div>
          <h2>Estoque</h2>
          <h3>Veja e administre seu estoque</h3>
        </div>
      </div>
      <div class="content-bar content-legend">
        <div>Identificador</div>
        <div>Descrição</div>
        <div>Quantidade</div>
        <div>Unidade de medida</div>
        <div class="end">
          <a class="btn" (click)="this.showInsertItemPage = true"> Novo </a>
        </div>
      </div>
      <div *ngFor="let item of items$ | async" class="content-bar">
        <div class="item-id-container">
          <div
            class="copied-notification"
            [ngClass]="{ visible: copiedItemId === item.id }"
          >
            Copiado!
          </div>

          <div class="item-id" (click)="copyToClipboard(item.id)">
            {{ item.id }}
          </div>
        </div>
        <div class="item-description">
          {{ item.description }}
        </div>
        <div class="item-quantity">
          {{ item.quantity }}
        </div>
        <div class="item-measure-unit">
          {{ item.measureUnit }}
        </div>
        <div class="end">
          <button class="item-btn left" (click)="openEditItemPage(item.id)">
            <fa-icon [icon]="faPenToSquare"></fa-icon>
          </button>
          <button class="item-btn right" (click)="remove($event, item)">
            <fa-icon [icon]="faTrash"></fa-icon>
          </button>
        </div>
      </div>
    </div>
    <app-insert-item
      *ngIf="showInsertItemPage"
      (closePageEvent)="closeItemPages()"
    ></app-insert-item>
    <app-edit-item
      *ngIf="showEditItemPage"
      (closePageEvent)="closeItemPages()"
      [editItemId]="editItemId"
    ></app-edit-item>
  </div>
</div>
